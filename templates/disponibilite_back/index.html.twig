{% extends 'base2.html.twig' %}

{% block title %}Liste des Disponibilit√©s{% endblock %}

{% block content %}
<div class="container my-4">
    <h1 class="mb-4">Liste des Disponibilit√©s</h1>

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>M√©decin</th>
                    <th>Jour</th>
                    <th>Heure de d√©but</th>
                    <th>Heure de fin</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for disponibilite in pagination %}
                    <tr>
                        <td>{{ disponibilite.id }}</td>
                        <td>{{ disponibilite.medecin ? disponibilite.medecin.nom : 'Non assign√©' }}</td>
                        <td>{{ disponibilite.jour ? disponibilite.jour|date('Y-m-d') : 'N/A' }}</td>
                        <td>{{ disponibilite.heureDebut ? disponibilite.heureDebut|date('H:i') : 'N/A' }}</td>
                        <td>{{ disponibilite.heureFin ? disponibilite.heureFin|date('H:i') : 'N/A' }}</td>
                        <td>
                            <a href="{{ path('app_disponibilite_show_back', {'id': disponibilite.id}) }}" class="btn btn-info btn-sm">üëÅÔ∏è</a>
                            <a href="{{ path('app_disponibilite_edit_back', {'id': disponibilite.id}) }}" class="btn btn-primary btn-sm">‚úèÔ∏è</a>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="6" class="text-center text-muted">Aucune disponibilit√© trouv√©e</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {# Affichage des contr√¥les de pagination #}
    <div class="d-flex justify-content-center mt-3">
        {{ knp_pagination_render(pagination) }}
    </div>

    <div class="mt-3">
        <a href="{{ path('app_disponibilite_new_back') }}" class="btn btn-success">‚ûï Ajouter une disponibilit√©</a>
    </div>
</div>

{# Bloc style plus cr√©atif pour la pagination #}
<style>
    /* Pagination Container */
    .pagination {
        display: flex;
        list-style: none;
        justify-content: center;
        gap: 0.5rem; /* Espace horizontal entre les items */
        margin: 2rem auto; 
        padding: 0;
    }

    /* Chaque √©l√©ment (li) de la pagination */
    .pagination li {
        display: inline-block;
    }

    /* Liens de pagination (ou span pour l'√©l√©ment actif) */
    .pagination li a,
    .pagination li span {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 42px;
        height: 42px;
        font-weight: 600;
        color: #fff;
        background: linear-gradient(45deg, #6f42c1, #d63384); /* D√©grad√© violet-rose */
        border-radius: 50%;
        text-decoration: none;
        transition: transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    /* Au survol, on change l'√©chelle et l'ombre port√©e */
    .pagination li a:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
    }

    /* Page active */
    .pagination li.active span {
        background: linear-gradient(45deg, #198754, #20c997); /* D√©grad√© vert */
        cursor: default;
    }

    /* Optionnel : personnaliser les fl√®ches Pr√©c√©dent / Suivant si pr√©sentes */
    .pagination li a[rel="prev"]::before,
    .pagination li a[rel="next"]::before {
        content: '';
        display: inline-block;
        width: 0;
        height: 0;
        border-style: solid;
        margin-right: 5px;
        transform: translateY(1px);
    }

    /* Exemple de fl√®che √† gauche pour "Pr√©c√©dent" */
    .pagination li a[rel="prev"]::before {
        border-width: 5px 6px 5px 0;
        border-color: transparent #fff transparent transparent;
    }

    /* Exemple de fl√®che √† droite pour "Suivant" */
    .pagination li a[rel="next"]::before {
        border-width: 5px 0 5px 6px;
        border-color: transparent transparent transparent #fff;
        margin-right: 0;
        margin-left: 5px;
    }

    /* Ajout d'un effet "pulse" (optionnel, purement d√©coratif) */
    .pagination li a::after,
    .pagination li span::after {
        content: '';
        position: absolute;
        width: 42px;
        height: 42px;
        border: 2px solid rgba(255,255,255,0.5);
        border-radius: 50%;
        top: -5px;
        left: -5px;
        opacity: 0;
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0% {
            transform: scale(1);
            opacity: 0.7;
        }
        70% {
            transform: scale(1.4);
            opacity: 0;
        }
        100% {
            transform: scale(1.6);
            opacity: 0;
        }
    }
</style>
{% endblock %}
